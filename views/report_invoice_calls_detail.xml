<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
<template id="report_invoice_calls_detail" inherit_id="account.report_invoice_document">
    <xpath expr="//div[@class='row']" position="after">
      <p t-if="o.is_telephony" style="page-break-before:always;"> </p>

      <div t-if="o.is_telephony" class="row" style="position:relative;top:30px;right:-60px;font-size:13px">
        <p><strong>Period:</strong> <span t-field="o.telephony_period_id.date_start"/> - <span t-field="o.telephony_period_id.date_end"/></p>
      </div>

      <!-- calls -->
      <table t-if="o.is_telephony" class="table table-condensed"  style="position:relative;top:65px;right:-45px;font-size:13px;width:685px">
         <thead>
             <tr>
                 <th style="font-weight:normal">Date - Hour</th>
                 <th style="font-weight:normal">Origin</th>
                 <th style="font-weight:normal">Destiny</th>
                 <th style="font-weight:normal" class="text-right">Duration</th>
                 <th style="font-weight:normal" class="text-right">Amount</th>
             </tr>
         </thead>
         <tbody class="invoice_tbody">
             <tr t-foreach="o.telephony_ids" t-as="c">

                 <td t-if="c.data_type == 'calls'">
                     <span t-field="c.time"/>
                 </td>
                 <td t-if="c.data_type == 'calls'">
                     <span t-field="c.origin"/>
                 </td>
                 <td t-if="c.data_type == 'calls'"><span t-field="c.destiny"/></td>
                 <td t-if="c.data_type == 'calls'" class="text-right">
                     <span t-field="c.duration" />
                 </td>
                 <td t-if="c.data_type == 'calls'" class="text-right">
                     <span t-field="c.amount"/>
                 </td>
             </tr>
         </tbody>
      </table>

      <!-- data -->
      <table t-if="o.is_telephony" class="table table-condensed"  style="position:relative;top:65px;right:-45px;font-size:13px;width:685px">
         <thead>
             <tr>
                 <th style="font-weight:normal">Date - Hour</th>
                 <th style="font-weight:normal">Origin</th>
                 <th style="font-weight:normal">Destiny</th>
                 <th style="font-weight:normal" class="text-right">Duration</th>
                 <th style="font-weight:normal" class="text-right">Amount</th>
             </tr>
         </thead>
         <tbody class="invoice_tbody">
             <tr t-foreach="o.telephony_ids" t-as="c">

                 <td t-if="c.data_type == 'data'">
                     <span t-field="c.time"/>
                 </td>
                 <td t-if="c.data_type == 'data'">
                     <span t-field="c.origin"/>
                 </td>
                 <td t-if="c.data_type == 'data'"><span t-field="c.destiny"/></td>
                 <td t-if="c.data_type == 'data'" class="text-right">
                     <span t-field="c.duration" />
                 </td>
                 <td t-if="c.data_type == 'data'" class="text-right">
                     <span t-field="c.amount"/>
                 </td>
             </tr>
         </tbody>
      </table>

      <!-- sms -->

      <table t-if="o.is_telephony" class="table table-condensed"  style="position:relative;top:65px;right:-45px;font-size:13px;width:685px">
         <thead>
             <tr>
                 <th style="font-weight:normal">Date - Hour</th>
                 <th style="font-weight:normal">Origin</th>
                 <th style="font-weight:normal">Destiny</th>
                 <th style="font-weight:normal" class="text-right">Duration</th>
                 <th style="font-weight:normal" class="text-right">Amount</th>
             </tr>
         </thead>
         <tbody class="invoice_tbody">
             <tr t-foreach="o.telephony_ids" t-as="c">

                 <td t-if="c.data_type == 'sms'">
                     <span t-field="c.time"/>
                 </td>
                 <td t-if="c.data_type == 'sms'">
                     <span t-field="c.origin"/>
                 </td>
                 <td t-if="c.data_type == 'sms'"><span t-field="c.destiny"/></td>
                 <td t-if="c.data_type == 'sms'" class="text-right">
                     <span t-field="c.duration" />
                 </td>
                 <td t-if="c.data_type == 'sms'" class="text-right">
                     <span t-field="c.amount"/>
                 </td>
             </tr>
         </tbody>
      </table>

      <!-- other -->

      <table t-if="o.is_telephony" class="table table-condensed"  style="position:relative;top:65px;right:-45px;font-size:13px;width:685px">
         <thead>
             <tr>
                 <th style="font-weight:normal">Date - Hour</th>
                 <th style="font-weight:normal">Origin</th>
                 <th style="font-weight:normal">Destiny</th>
                 <th style="font-weight:normal" class="text-right">Duration</th>
                 <th style="font-weight:normal" class="text-right">Amount</th>
             </tr>
         </thead>
         <tbody class="invoice_tbody">
             <tr t-foreach="o.telephony_ids" t-as="c">

                 <td t-if="c.data_type == 'other'">
                     <span t-field="c.time"/>
                 </td>
                 <td t-if="c.data_type == 'other'">
                     <span t-field="c.origin"/>
                 </td>
                 <td t-if="c.data_type == 'other'"><span t-field="c.destiny"/></td>
                 <td t-if="c.data_type == 'other'" class="text-right">
                     <span t-field="c.duration" />
                 </td>
                 <td t-if="c.data_type == 'other'" class="text-right">
                     <span t-field="c.amount"/>
                 </td>
             </tr>
         </tbody>
      </table>


    </xpath>
</template>
</data>
</openerp>
